{"ast":null,"code":"var _s = $RefreshSig$();\n// useUser.js\nimport { useEffect, useState } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nimport useAuth from \"./useAuth\";\nconst useUser = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const firebaseAuth = useAuth();\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (token) {\n      const decoded = jwtDecode(token);\n      setUser({\n        id: decoded.id,\n        displayName: decoded.name,\n        email: decoded.email,\n        role: decoded.role,\n        slug: decoded.slug,\n        picture: decoded.picture\n      });\n      return user;\n    }\n  });\n};\n_s(useUser, \"8ILJnOyeU234nXvlUDH6EMs3qFw=\", false, function () {\n  return [useAuth];\n});\nexport default useUser;","map":{"version":3,"names":["useEffect","useState","jwtDecode","useAuth","useUser","_s","user","setUser","firebaseAuth","token","localStorage","getItem","decoded","id","displayName","name","email","role","slug","picture"],"sources":["D:/HocLapTrinh/ProjectBenXe/MiniMarketClient/src/hooks/useUser.js"],"sourcesContent":["// useUser.js\r\nimport { useEffect, useState } from \"react\";\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nconst useUser = () => {\r\n  const [user, setUser] = useState(null);\r\n  const firebaseAuth = useAuth();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    if (token) {\r\n      const decoded = jwtDecode(token);\r\n      setUser({\r\n        id: decoded.id,\r\n        displayName: decoded.name,\r\n        email: decoded.email,\r\n        role: decoded.role,\r\n        slug: decoded.slug,\r\n        picture: decoded.picture,\r\n      });\r\n\r\n      return user;\r\n    }\r\n  });\r\n};\r\n\r\nexport default useUser;\r\n"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,OAAO,MAAM,WAAW;AAE/B,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMO,YAAY,GAAGL,OAAO,CAAC,CAAC;EAE9BH,SAAS,CAAC,MAAM;IACd,MAAMS,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACjD,IAAIF,KAAK,EAAE;MACT,MAAMG,OAAO,GAAGV,SAAS,CAACO,KAAK,CAAC;MAChCF,OAAO,CAAC;QACNM,EAAE,EAAED,OAAO,CAACC,EAAE;QACdC,WAAW,EAAEF,OAAO,CAACG,IAAI;QACzBC,KAAK,EAAEJ,OAAO,CAACI,KAAK;QACpBC,IAAI,EAAEL,OAAO,CAACK,IAAI;QAClBC,IAAI,EAAEN,OAAO,CAACM,IAAI;QAClBC,OAAO,EAAEP,OAAO,CAACO;MACnB,CAAC,CAAC;MAEF,OAAOb,IAAI;IACb;EACF,CAAC,CAAC;AACJ,CAAC;AAACD,EAAA,CApBID,OAAO;EAAA,QAEUD,OAAO;AAAA;AAoB9B,eAAeC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}