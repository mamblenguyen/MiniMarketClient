{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jwtDecode } from \"jwt-decode\";\nconst useUser = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\");\n    if (token) {\n      try {\n        const decoded = jwtDecode(token);\n        setUser({\n          id: decoded.id,\n          displayName: decoded.username,\n          email: decoded.email,\n          role: decoded.role,\n          slug: decoded.slug\n        });\n      } catch (error) {\n        console.error(\"Invalid token\", error);\n        setUser(null);\n      }\n    } else {\n      setUser(null);\n    }\n  }, []);\n  return user;\n};\n_s(useUser, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\nexport default useUser;","map":{"version":3,"names":["useState","useEffect","jwtDecode","useUser","_s","user","setUser","token","localStorage","getItem","decoded","id","displayName","username","email","role","slug","error","console"],"sources":["D:/HocLapTrinh/ProjectBenXe/MiniMarketClient/src/hooks/useUser.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport {jwtDecode} from \"jwt-decode\";\r\n\r\nconst useUser = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    if (token) {\r\n      try {\r\n        const decoded = jwtDecode(token);\r\n        setUser({\r\n          id: decoded.id,\r\n          displayName: decoded.username,\r\n          email: decoded.email,\r\n          role: decoded.role,\r\n          slug: decoded.slug,\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Invalid token\", error);\r\n        setUser(null);\r\n      }\r\n    } else {\r\n      setUser(null);\r\n    }\r\n  }, []);\r\n\r\n  return user;\r\n};\r\n\r\nexport default useUser;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAAQC,SAAS,QAAO,YAAY;AAEpC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,MAAMM,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;IACjD,IAAIF,KAAK,EAAE;MACT,IAAI;QACF,MAAMG,OAAO,GAAGR,SAAS,CAACK,KAAK,CAAC;QAChCD,OAAO,CAAC;UACNK,EAAE,EAAED,OAAO,CAACC,EAAE;UACdC,WAAW,EAAEF,OAAO,CAACG,QAAQ;UAC7BC,KAAK,EAAEJ,OAAO,CAACI,KAAK;UACpBC,IAAI,EAAEL,OAAO,CAACK,IAAI;UAClBC,IAAI,EAAEN,OAAO,CAACM;QAChB,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrCX,OAAO,CAAC,IAAI,CAAC;MACf;IACF,CAAC,MAAM;MACLA,OAAO,CAAC,IAAI,CAAC;IACf;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOD,IAAI;AACb,CAAC;AAACD,EAAA,CAzBID,OAAO;AA2Bb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}